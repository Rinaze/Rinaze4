## Диаграмма классов для задания Практика «Виртуальная машина Brainfuck»
![image](https://github.com/user-attachments/assets/befe48ce-8bd7-4a87-84aa-d4026ceab305)
### Описание основных сущностей
#### **1. Класс `VirtualMachine`**
**Назначение**:  
Реализует виртуальную машину для выполнения Brainfuck-программ. Управляет памятью, инструкциями и выполнением команд.

**Структура**:
- **Свойства**:
  - Instructions: string (только чтение)  
    Хранит программу в виде строки символов (команд Brainfuck).
  - InstructionPointer: int (чтение/запись)  
    Текущая позиция в выполняемой программе (индекс в Instructions).
  - Memory: byte[] (только чтение)  
    Массив байтов, представляющий память виртуальной машины.
  - MemoryPointer: int (чтение/запись)  
    Указатель на текущую ячейку памяти (индекс в Memory).

- **Поле**:
  - commandHandlers: Dictionary<char, Action<IVirtualMachine>>` 
    Словарь, сопоставляющий символы команд (char) с их обработчиками (Action). Приватное, так как используется только внутри класса.

- **Методы**:
  - VirtualMachine(program: string, memorySize: int)
    Конструктор. Инициализирует программу, память и указатели.  
    Параметры:  
    - program — код программы Brainfuck.  
    - memorySize — размер выделяемой памяти (в байтах).

  - `RegisterCommand(symbol: char, execute: Action<IVirtualMachine>): void`  
    Регистрирует новую команду.

  - `Run(): void`  
    Запускает выполнение программы. Последовательно обрабатывает команды из `Instructions`, используя зарегистрированные обработчики.

#### **2. Интерфейс `IVirtualMachine` (неявно присутствует на диаграмме)**
**Назначение**:  
Определяет контракт для виртуальной машины, гарантируя наличие ключевых свойств:
- `Instructions`, `InstructionPointer`, `Memory`, `MemoryPointer`.

**Использование**:  
Класс `VirtualMachine` реализует этот интерфейс, что позволяет абстрагировать работу с виртуальной машиной.

#### **3. Ключевые зависимости**
- **`Dictionary<char, Action<IVirtualMachine>>`**  
  Позволяет динамически добавлять команды через `RegisterCommand`. 

- **`Action<IVirtualMachine>`**  
  Делегат для обработчиков команд. Принимает экземпляр `IVirtualMachine` для изменения его состояния (например, памяти или указателей).

#### **Принцип работы**
1. **Инициализация**:  
   Создается экземпляр `VirtualMachine` с программой и размером памяти.
2. **Регистрация команд**:  
   Через `RegisterCommand` добавляются обработчики для символов (например, `+`, `-`, `>`).
3. **Выполнение**:  
   Метод `Run` перебирает символы в `Instructions`, вызывает соответствующие обработчики из `commandHandlers` и обновляет состояние машины.

Диаграмма отражает ясную структуру класса, его связь с интерфейсом и гибкость за счет динамической регистрации команд.
